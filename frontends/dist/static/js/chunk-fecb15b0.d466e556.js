(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fecb15b0"],{"2d92":function(t,e,a){"use strict";a.d(e,"ub",(function(){return o})),a.d(e,"U",(function(){return s})),a.d(e,"v",(function(){return i})),a.d(e,"H",(function(){return d})),a.d(e,"M",(function(){return l})),a.d(e,"xb",(function(){return p})),a.d(e,"k",(function(){return u})),a.d(e,"V",(function(){return c})),a.d(e,"T",(function(){return h})),a.d(e,"u",(function(){return m})),a.d(e,"G",(function(){return f})),a.d(e,"L",(function(){return b})),a.d(e,"wb",(function(){return g})),a.d(e,"j",(function(){return _})),a.d(e,"W",(function(){return w})),a.d(e,"X",(function(){return y})),a.d(e,"S",(function(){return v})),a.d(e,"t",(function(){return T})),a.d(e,"i",(function(){return x})),a.d(e,"Y",(function(){return k})),a.d(e,"ab",(function(){return S})),a.d(e,"Z",(function(){return j})),a.d(e,"g",(function(){return R})),a.d(e,"Q",(function(){return O})),a.d(e,"h",(function(){return A})),a.d(e,"vb",(function(){return E})),a.d(e,"s",(function(){return D})),a.d(e,"K",(function(){return L})),a.d(e,"qb",(function(){return C})),a.d(e,"yb",(function(){return F})),a.d(e,"l",(function(){return N})),a.d(e,"N",(function(){return I})),a.d(e,"A",(function(){return P})),a.d(e,"nb",(function(){return $})),a.d(e,"pb",(function(){return J})),a.d(e,"ob",(function(){return z})),a.d(e,"q",(function(){return B})),a.d(e,"Cb",(function(){return H})),a.d(e,"C",(function(){return V})),a.d(e,"d",(function(){return q})),a.d(e,"sb",(function(){return U})),a.d(e,"m",(function(){return M})),a.d(e,"zb",(function(){return X})),a.d(e,"w",(function(){return Y})),a.d(e,"e",(function(){return Z})),a.d(e,"rb",(function(){return G})),a.d(e,"bb",(function(){return K})),a.d(e,"tb",(function(){return Q})),a.d(e,"x",(function(){return W})),a.d(e,"Ab",(function(){return tt})),a.d(e,"o",(function(){return et})),a.d(e,"F",(function(){return at})),a.d(e,"eb",(function(){return rt})),a.d(e,"E",(function(){return nt})),a.d(e,"y",(function(){return ot})),a.d(e,"mb",(function(){return st})),a.d(e,"lb",(function(){return it})),a.d(e,"ib",(function(){return dt})),a.d(e,"B",(function(){return lt})),a.d(e,"fb",(function(){return pt})),a.d(e,"gb",(function(){return ut})),a.d(e,"p",(function(){return ct})),a.d(e,"Bb",(function(){return ht})),a.d(e,"z",(function(){return mt})),a.d(e,"r",(function(){return ft})),a.d(e,"P",(function(){return bt})),a.d(e,"J",(function(){return gt})),a.d(e,"hb",(function(){return _t})),a.d(e,"jb",(function(){return wt})),a.d(e,"kb",(function(){return yt})),a.d(e,"db",(function(){return vt})),a.d(e,"cb",(function(){return Tt})),a.d(e,"n",(function(){return xt})),a.d(e,"f",(function(){return kt})),a.d(e,"c",(function(){return St})),a.d(e,"b",(function(){return jt})),a.d(e,"a",(function(){return Rt})),a.d(e,"D",(function(){return Ot})),a.d(e,"R",(function(){return At}));var r=a("bc3a"),n=a.n(r);const o=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_MODE,s=(t,e)=>n.a.get(o+"/api/project/project_list",{params:e,headers:t}).then(t=>t.data),i=(t,e)=>n.a.post(o+"/api/project/del_project",e,{headers:t}).then(t=>t.data),d=(t,e)=>n.a.post(o+"/api/project/disable_project",e,{headers:t}).then(t=>t.data),l=(t,e)=>n.a.post(o+"/api/project/enable_project",e,{headers:t}).then(t=>t.data),p=(t,e)=>n.a.post(o+"/api/project/update_project",e,{headers:t}).then(t=>t.data),u=(t,e)=>n.a.post(o+"/api/project/add_project",e,{headers:t}).then(t=>t.data),c=(t,e)=>n.a.get(o+"/api/title/project_info",{params:e,headers:t}).then(t=>t.data),h=(t,e)=>n.a.get(o+"/api/global/host_total",{params:e,headers:t}).then(t=>t.data),m=(t,e)=>n.a.post(o+"/api/global/del_host",e,{headers:t}).then(t=>t.data),f=(t,e)=>n.a.post(o+"/api/global/disable_host",e,{headers:t}).then(t=>t.data),b=(t,e)=>n.a.post(o+"/api/global/enable_host",e,{headers:t}).then(t=>t.data),g=(t,e)=>n.a.post(o+"/api/global/update_host",e,{headers:t}).then(t=>t.data),_=(t,e)=>n.a.post(o+"/api/global/add_host",e,{headers:t}).then(t=>t.data),w=(t,e)=>n.a.get(o+"/api/dynamic/dynamic",{params:e,headers:t}).then(t=>t.data),y=(t,e)=>n.a.get(o+"/api/member/project_member",{params:e,headers:t}).then(t=>t.data),v=(t,e)=>n.a.get(o+"/api/member/get_email",{params:e,headers:t}).then(t=>t.data),T=(t,e)=>n.a.post(o+"/api/member/del_email",e,{headers:t}).then(t=>t.data),x=(t,e)=>n.a.post(o+"/api/member/email_config",e,{headers:t}).then(t=>t.data),k=(t,e)=>n.a.get(o+"/api/report/auto_test_report",{params:e,headers:t}).then(t=>t.data),S=(t,e)=>n.a.get(o+"/api/report/test_time",{params:e,headers:t}).then(t=>t.data),j=(t,e)=>n.a.get(o+"/api/report/lately_ten",{params:e,headers:t}).then(t=>t.data),R=(t,e)=>n.a.post(o+"/api/api/add_api",e,{headers:t}).then(t=>t.data),O=(t,e)=>n.a.get(o+"/api/api/group",{params:e,headers:t}).then(t=>t.data),A=(t,e)=>n.a.post(o+"/api/api/add_group",e,{headers:t}).then(t=>t.data),E=(t,e)=>n.a.post(o+"/api/api/update_name_group",e,{headers:t}).then(t=>t.data),D=(t,e)=>n.a.post(o+"/api/api/del_group",e,{headers:t}).then(t=>t.data),L=(t,e)=>n.a.post(o+"/api/download",e,{headers:t}).then(t=>t.data),C=(t,e)=>n.a.post(o+"/api/user/login",e,t).then(t=>t.data),F=(t,e)=>n.a.post(o+"/api/risk/update",e,{headers:t}).then(t=>t.data),N=(t,e)=>n.a.post(o+"/api/risk/add",e,{headers:t}).then(t=>t.data),I=(t,e)=>n.a.post(o+"/api/risk/add",e,{headers:t}).then(t=>t.data),P=(t,e)=>n.a.post(o+"/api/risk/del",e,t).then(t=>t.data),$=(t,e)=>n.a.get(o+"/api/risk ",{params:e},t).then(t=>t.data),J=(t,e)=>n.a.get(o+"/api/todo ",{params:e},t).then(t=>t.data),z=(t,e)=>n.a.get(o+"/api/report ",{params:e},t).then(t=>t.data),B=(t,e)=>n.a.post(o+"/api/addreport",e,t).then(t=>t.data),H=(t,e)=>n.a.post(o+"/api/updatereport",e,t).then(t=>t.data),V=(t,e)=>n.a.post(o+"/api/delreport",e,t).then(t=>t.data),q=(t,e)=>n.a.post(o+"/api/send",e,t).then(t=>t.data),U=(t,e)=>n.a.get(o+"/api/stress/list",{params:e},{headers:t}).then(t=>t.data),M=(t,e)=>n.a.post(o+"/api/stress/add",e,t).then(t=>t.data),X=(t,e)=>n.a.post(o+"/api/stress/update",e,t).then(t=>t.data),Y=(t,e)=>n.a.post(o+"/api/stress/del",e,t).then(t=>t.data),Z=(t,e)=>n.a.get(o+"/api/stress/Detail ",{params:e},t).then(t=>t.data),G=(t,e)=>n.a.post(o+"/api/stress/tool",e,t).then(t=>t.data),K=(t,e)=>n.a.get(o+"/api/stress/version",{params:e},{headers:t}).then(t=>t.data),Q=(t,e)=>n.a.post(o+"/api/stress/save",e,t).then(t=>t.data),W=(t,e)=>n.a.post(o+"/api/tool/del_dicomData",e,t).then(t=>t.data),tt=(t,e)=>n.a.post(o+"/api/dicom/update",e,t).then(t=>t.data),et=(t,e)=>n.a.post(o+"/api/tool/add_dicomData",e,t).then(t=>t.data),at=(t,e)=>n.a.post(o+"/api/tool/dicomdetail",e,t).then(t=>t.data),rt=(t,e)=>n.a.get(o+"/api/tool/dicomData",{params:e},{headers:t}).then(t=>t.data),nt=(t,e)=>n.a.post(o+"/api/tool/dicomcsv",e,t).then(t=>t.data),ot=(t,e)=>n.a.post(o+"/api/tool/delreport",e,t).then(t=>t.data),st=(t,e)=>n.a.get(o+"/api/stress/version",{params:e},{headers:t}).then(t=>t.data),it=(t,e)=>n.a.post(o+"/api/stress/result",e,t).then(t=>t.data),dt=(t,e)=>n.a.post(o+"/api/stress/figure",e,t).then(t=>t.data),lt=(t,e)=>n.a.post(o+"/api/tool/delete_patients",e,t).then(t=>t.data),pt=(t,e)=>n.a.get(o+"/api/tool/getduration",{params:e},{headers:t}).then(t=>t.data),ut=(t,e)=>n.a.get(o+"/api/tool/durationData",{params:e},{headers:t}).then(t=>t.data),ct=(t,e)=>n.a.post(o+"/api/tool/add_duration",e,t).then(t=>t.data),ht=(t,e)=>n.a.post(o+"/api/tool/update_duration",e,t).then(t=>t.data),mt=(t,e)=>n.a.post(o+"/api/tool/del_duration",e,t).then(t=>t.data),ft=(t,e)=>n.a.post(o+"/api/tool/anonymization",e,t).then(t=>t.data),bt=(t,e)=>n.a.post(o+"/api/tool/enable_duration",e,t).then(t=>t.data),gt=(t,e)=>n.a.post(o+"/api/tool/disable_duration",e,t).then(t=>t.data),_t=(t,e)=>n.a.get(o+"/api/tool/duration_verify",{params:e},{headers:t}).then(t=>t.data),wt=(t,e)=>n.a.get(o+"/api/tool/somkerecord",{params:e},{headers:t}).then(t=>t.data),yt=(t,e)=>n.a.post(o+"/api/tool/somke",e,t).then(t=>t.data),vt=(t,e)=>n.a.post(o+"/api/tool/dicomSend",e,t).then(t=>t.data),Tt=(t,e)=>n.a.get(o+"/api/base/getdata",{params:e},{headers:t}).then(t=>t.data),xt=(t,e)=>n.a.post(o+"/api/base/addData",e,t).then(t=>t.data),kt=(t,e)=>n.a.post(o+"/api/base/updateData",e,t).then(t=>t.data),St=(t,e)=>n.a.post(o+"/api/base/enablebase",e,t).then(t=>t.data),jt=(t,e)=>n.a.post(o+"/api/base/disablebase",e,t).then(t=>t.data),Rt=(t,e)=>n.a.post(o+"/api/base/delbasedata",e,t).then(t=>t.data),Ot=(t,e)=>n.a.get(o+"/api/base/dicom",{params:e},{headers:t}).then(t=>t.data),At=(t,e)=>n.a.get(o+"/api/dictionary/list",{params:e},{headers:t}).then(t=>t.data)},"488b":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{style:{height:"400px"},attrs:{id:"myChart"}})]),a("el-col",{attrs:{span:7}},[a("div",{style:{height:"400px"},attrs:{id:"singleTestChart"}})])],1),t._m(0),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-select",{staticStyle:{"padding-left":"50px","padding-bottom":"10px"},attrs:{placeholder:"请选择测试时间"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}},t._l(t.options,(function(t){return a("el-option",{key:t.startTime,attrs:{label:t.startTime,value:t.startTime}})})),1)],1),a("el-col",{attrs:{span:4}},[a("div",[a("p",[t._v("测试耗时： "+t._s(t.elapsedTime)+"s")])])]),a("el-col",{attrs:{span:16}},[a("div",[a("p",[t._v("测试地址： "+t._s(t.host))])])])],1),a("div",{staticStyle:{"padding-left":"50px",width:"96%"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.tableData,"row-style":t.tableRowStyle}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"名称: "}},[a("span",[t._v(t._s(e.row.name))])]),a("el-form-item"),a("el-form-item",{attrs:{label:"接口地址： "}},[a("span",[t._v(t._s(e.row.apiAddress))])]),a("el-form-item",{attrs:{label:"请求方式： "}},[a("span",[t._v(t._s(e.row.requestType))])]),a("el-form-item",{attrs:{label:"测试结果： "}},[a("span",[t._v(t._s(e.row.result))])]),a("el-form-item"),a("el-form-item",{attrs:{label:"请求头： "}},[a("span",{staticStyle:{"word-break":"break-all",overflow:"auto","overflow-x":"hidden"}},[t._v(t._s(e.row.header))])]),a("el-form-item",{attrs:{label:"返回头： "}},[a("span",{staticStyle:{"word-break":"break-all",overflow:"auto","overflow-x":"hidden"}},[t._v(t._s(e.row.responseHeader))])]),a("el-form-item",{attrs:{label:"请求参数： "}},[a("span",{staticStyle:{"word-break":"break-all",overflow:"auto","overflow-x":"hidden"}},[t._v(t._s(e.row.parameter))])]),a("el-form-item",{attrs:{label:"返回结果： "}},[a("span",{staticStyle:{"word-break":"break-all",overflow:"auto","overflow-x":"hidden"}},[t._v(t._s(e.row.responseData))])])],1)]}}])}),a("el-table-column",{attrs:{type:"index",label:"#",width:"100"}}),a("el-table-column",{attrs:{prop:"name",label:"接口名称","min-width":"29",sortable:"","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"automationTestCase",label:"用例名称","min-width":"29%",sortable:"","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"apiAddress",label:"请求地址","min-width":"20%",sortable:"","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"examineType",label:"校验方式","min-width":"12%",sortable:"","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return["no_check"===e.row.examineType?a("a",[t._v("不校验")]):t._e(),"only_check_status"===e.row.examineType?a("a",[t._v("校验http状态")]):t._e(),"json"===e.row.examineType?a("a",[t._v("JSON校验")]):t._e(),"entirely_check"===e.row.examineType?a("a",[t._v("完全校验")]):t._e(),"Regular_check"===e.row.examineType?a("a",[t._v("正则校验")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"result",label:"结果","min-width":"10%",filters:t.resultFilter,"filter-method":t.filterHandler},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.result?e.row.result:"NotRun")+" ")]}}])})],1)],1),a("div",{staticStyle:{"margin-top":"5%"}})],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticStyle:{"padding-left":"50px",color:"#999"}},[t._v("*注"),a("strong",[t._v(": ")]),t._v("只保留最近十次的测试记录")])}],o=a("313e"),s=a.n(o),i=a("2d92"),d={data(){return{tableData:[],listLoading:!1,resultFilter:[{text:"ERROR",value:"ERROR"},{text:"FAIL",value:"FAIL"},{text:"NotRun",value:"NotRun"},{text:"PASS",value:"PASS"}],time:"",elapsedTime:"",host:"",options:[],pass:"",fail:"",error:"",latelyTenPass:[],latelyTenFail:[],latelyTenError:[]}},mounted(){this.getTenTestTime(),this.getLatelyTenTestResult()},methods:{getTestResult(){this.listLoading=!0;let t=this,e={project_id:this.$route.params.project_id,time:this.time.toString()},a={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};Object(i["Y"])(a,e).then(e=>{let{msg:a,code:r,data:n}=e;t.listLoading=!1,"0"===r?(t.total=n.total,t.pass=n.pass,t.fail=n.fail,t.not_run=n.NotRun,t.error=n.error,t.tableData=n.data,t.singleTestDraw()):t.$message.error({message:a,center:!0})})},drawLine(){let t=s.a.init(document.getElementById("myChart")),e={title:{text:"近十次测试结果",left:"center",top:20,textStyle:{color:"#ccc"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:["通过率","失败率","错误率"]},xAxis:[{type:"category",data:["1","2","3","4","5","6","7","8","9","10"],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"百分比",min:0,max:100,interval:20,axisLabel:{formatter:"{value} %"}}],series:[{name:"失败率",type:"bar",data:this.latelyTenFail},{name:"错误率",type:"line",data:this.latelyTenError},{name:"通过率",type:"bar",data:this.latelyTenPass}]};t.setOption(e)},singleTestDraw(){let t=s.a.init(document.getElementById("singleTestChart")),e={title:{text:"比例图",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{type:"scroll",orient:"vertical",right:10,top:20,bottom:20},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},series:[{type:"pie",radius:"50%",center:["50%","50%"],data:[{value:this.error,name:"ERROR"},{value:this.fail,name:"FAIL"},{value:this.pass,name:"PASS"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.setOption(e)},tableRowStyle(t){return"ERROR"===t.result||"FAIL"===t.result?"background-color: #DC143C;":"TimeOut"===t.result?"background-color: #FFE4C4;":void 0},filterHandler(t,e,a){return e.result===t},getTenTestTime(){let t=this,e={project_id:this.$route.params.project_id},a={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};Object(i["ab"])(a,e).then(e=>{let{msg:a,code:r,data:n}=e;"0"===r?(t.options=n,n.length&&(t.time=n[0].startTime,t.elapsedTime=n[0].elapsedTime,t.host=n[0].host,t.getTestResult())):t.$message.error({message:a,center:!0})})},changeHost(){for(let t=0;t<this.options.length;t++)this.options[t]["startTime"]===this.time&&(this.host=this.options[t].host,this.elapsedTime=this.options[t].elapsedTime)},getLatelyTenTestResult(){let t=this,e={project_id:this.$route.params.project_id},a={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};Object(i["Z"])(a,e).then(e=>{let{msg:a,code:r,data:n}=e;"0"===r?(console.log(n),n.forEach(e=>{t.latelyTenPass.push(100*e.pass),t.latelyTenFail.push(100*e.fail),t.latelyTenError.push(100*e.error)}),t.drawLine()):t.$message.error({message:a,center:!0})})}},watch:{time(){this.getTestResult(),this.changeHost()}}},l=d,p=(a("b00c"),a("2877")),u=Object(p["a"])(l,r,n,!1,null,"49e6deb6",null);e["default"]=u.exports},b00c:function(t,e,a){"use strict";var r=a("cae7"),n=a.n(r);n.a},cae7:function(t,e,a){}}]);