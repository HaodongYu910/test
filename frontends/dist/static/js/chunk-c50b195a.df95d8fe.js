(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c50b195a"],{"2d92":function(t,e,a){"use strict";a.d(e,"fb",(function(){return o})),a.d(e,"J",(function(){return n})),a.d(e,"s",(function(){return i})),a.d(e,"z",(function(){return d})),a.d(e,"D",(function(){return l})),a.d(e,"ib",(function(){return u})),a.d(e,"j",(function(){return p})),a.d(e,"K",(function(){return c})),a.d(e,"I",(function(){return m})),a.d(e,"r",(function(){return h})),a.d(e,"y",(function(){return f})),a.d(e,"C",(function(){return b})),a.d(e,"hb",(function(){return g})),a.d(e,"i",(function(){return _})),a.d(e,"L",(function(){return k})),a.d(e,"M",(function(){return v})),a.d(e,"H",(function(){return y})),a.d(e,"q",(function(){return j})),a.d(e,"h",(function(){return w})),a.d(e,"N",(function(){return x})),a.d(e,"P",(function(){return $})),a.d(e,"O",(function(){return S})),a.d(e,"f",(function(){return C})),a.d(e,"G",(function(){return D})),a.d(e,"g",(function(){return V})),a.d(e,"gb",(function(){return P})),a.d(e,"p",(function(){return q})),a.d(e,"B",(function(){return O})),a.d(e,"db",(function(){return T})),a.d(e,"jb",(function(){return E})),a.d(e,"k",(function(){return F})),a.d(e,"E",(function(){return H})),a.d(e,"u",(function(){return R})),a.d(e,"ab",(function(){return A})),a.d(e,"Z",(function(){return J})),a.d(e,"cb",(function(){return L})),a.d(e,"bb",(function(){return M})),a.d(e,"n",(function(){return z})),a.d(e,"lb",(function(){return I})),a.d(e,"w",(function(){return N})),a.d(e,"d",(function(){return B})),a.d(e,"eb",(function(){return G})),a.d(e,"Q",(function(){return K})),a.d(e,"x",(function(){return Q})),a.d(e,"mb",(function(){return U})),a.d(e,"o",(function(){return W})),a.d(e,"Y",(function(){return X})),a.d(e,"W",(function(){return Y})),a.d(e,"X",(function(){return Z})),a.d(e,"V",(function(){return tt})),a.d(e,"v",(function(){return et})),a.d(e,"S",(function(){return at})),a.d(e,"T",(function(){return st})),a.d(e,"m",(function(){return rt})),a.d(e,"kb",(function(){return ot})),a.d(e,"t",(function(){return nt})),a.d(e,"F",(function(){return it})),a.d(e,"A",(function(){return dt})),a.d(e,"U",(function(){return lt})),a.d(e,"R",(function(){return ut})),a.d(e,"l",(function(){return pt})),a.d(e,"e",(function(){return ct})),a.d(e,"c",(function(){return mt})),a.d(e,"b",(function(){return ht})),a.d(e,"a",(function(){return ft}));var s=a("bc3a"),r=a.n(s);const o="http://192.168.2.38:9000",n=(t,e)=>r.a.get(o+"/api/project/project_list",{params:e,headers:t}).then(t=>t.data),i=(t,e)=>r.a.post(o+"/api/project/del_project",e,{headers:t}).then(t=>t.data),d=(t,e)=>r.a.post(o+"/api/project/disable_project",e,{headers:t}).then(t=>t.data),l=(t,e)=>r.a.post(o+"/api/project/enable_project",e,{headers:t}).then(t=>t.data),u=(t,e)=>r.a.post(o+"/api/project/update_project",e,{headers:t}).then(t=>t.data),p=(t,e)=>r.a.post(o+"/api/project/add_project",e,{headers:t}).then(t=>t.data),c=(t,e)=>r.a.get(o+"/api/title/project_info",{params:e,headers:t}).then(t=>t.data),m=(t,e)=>r.a.get(o+"/api/global/host_total",{params:e,headers:t}).then(t=>t.data),h=(t,e)=>r.a.post(o+"/api/global/del_host",e,{headers:t}).then(t=>t.data),f=(t,e)=>r.a.post(o+"/api/global/disable_host",e,{headers:t}).then(t=>t.data),b=(t,e)=>r.a.post(o+"/api/global/enable_host",e,{headers:t}).then(t=>t.data),g=(t,e)=>r.a.post(o+"/api/global/update_host",e,{headers:t}).then(t=>t.data),_=(t,e)=>r.a.post(o+"/api/global/add_host",e,{headers:t}).then(t=>t.data),k=(t,e)=>r.a.get(o+"/api/dynamic/dynamic",{params:e,headers:t}).then(t=>t.data),v=(t,e)=>r.a.get(o+"/api/member/project_member",{params:e,headers:t}).then(t=>t.data),y=(t,e)=>r.a.get(o+"/api/member/get_email",{params:e,headers:t}).then(t=>t.data),j=(t,e)=>r.a.post(o+"/api/member/del_email",e,{headers:t}).then(t=>t.data),w=(t,e)=>r.a.post(o+"/api/member/email_config",e,{headers:t}).then(t=>t.data),x=(t,e)=>r.a.get(o+"/api/report/auto_test_report",{params:e,headers:t}).then(t=>t.data),$=(t,e)=>r.a.get(o+"/api/report/test_time",{params:e,headers:t}).then(t=>t.data),S=(t,e)=>r.a.get(o+"/api/report/lately_ten",{params:e,headers:t}).then(t=>t.data),C=(t,e)=>r.a.post(o+"/api/api/add_api",e,{headers:t}).then(t=>t.data),D=(t,e)=>r.a.get(o+"/api/api/group",{params:e,headers:t}).then(t=>t.data),V=(t,e)=>r.a.post(o+"/api/api/add_group",e,{headers:t}).then(t=>t.data),P=(t,e)=>r.a.post(o+"/api/api/update_name_group",e,{headers:t}).then(t=>t.data),q=(t,e)=>r.a.post(o+"/api/api/del_group",e,{headers:t}).then(t=>t.data),O=(t,e)=>r.a.post(o+"/api/download",e,{headers:t}).then(t=>t.data),T=(t,e)=>r.a.post(o+"/api/user/login",e,t).then(t=>t.data),E=(t,e)=>r.a.post(o+"/api/risk/update",e,{headers:t}).then(t=>t.data),F=(t,e)=>r.a.post(o+"/api/risk/add",e,{headers:t}).then(t=>t.data),H=(t,e)=>r.a.post(o+"/api/risk/add",e,{headers:t}).then(t=>t.data),R=(t,e)=>r.a.post(o+"/api/risk/del",e,t).then(t=>t.data),A=(t,e)=>r.a.get(o+"/api/risk ",{params:e},t).then(t=>t.data),J=(t,e)=>r.a.post(o+"/api/jira/figure ",e,t).then(t=>t.data),L=(t,e)=>r.a.get(o+"/api/todo ",{params:e},t).then(t=>t.data),M=(t,e)=>r.a.get(o+"/api/report ",{params:e},t).then(t=>t.data),z=(t,e)=>r.a.post(o+"/api/addreport",e,t).then(t=>t.data),I=(t,e)=>r.a.post(o+"/api/updatereport",e,t).then(t=>t.data),N=(t,e)=>r.a.post(o+"/api/delreport",e,t).then(t=>t.data),B=(t,e)=>r.a.post(o+"/api/send",e,t).then(t=>t.data),G=(t,e)=>r.a.post(o+"/api/tool/stresstool",e,t).then(t=>t.data),K=(t,e)=>r.a.get(o+"/api/tool/version",{params:e},{headers:t}).then(t=>t.data),Q=(t,e)=>r.a.post(o+"/api/tool/del_stressdata",e,t).then(t=>t.data),U=(t,e)=>r.a.post(o+"/api/tool/update_stressdata",e,t).then(t=>t.data),W=(t,e)=>r.a.post(o+"/api/tool/add_stressdata",e,t).then(t=>t.data),X=(t,e)=>r.a.get(o+"/api/tool/stressversion",{params:e},{headers:t}).then(t=>t.data),Y=(t,e)=>r.a.get(o+"/api/tool/stressdata",{params:e},{headers:t}).then(t=>t.data),Z=(t,e)=>r.a.post(o+"/api/tool/stressresult",e,t).then(t=>t.data),tt=(t,e)=>r.a.post(o+"/api/tool/stressfigure",e,t).then(t=>t.data),et=(t,e)=>r.a.post(o+"/api/tool/delete_patients",e,t).then(t=>t.data),at=(t,e)=>r.a.get(o+"/api/tool/getduration",{params:e},{headers:t}).then(t=>t.data),st=(t,e)=>r.a.get(o+"/api/tool/durationData",{params:e},{headers:t}).then(t=>t.data),rt=(t,e)=>r.a.post(o+"/api/tool/add_duration",e,t).then(t=>t.data),ot=(t,e)=>r.a.post(o+"/api/tool/update_duration",e,t).then(t=>t.data),nt=(t,e)=>r.a.post(o+"/api/tool/del_duration",e,t).then(t=>t.data),it=(t,e)=>r.a.post(o+"/api/tool/enable_duration",e,t).then(t=>t.data),dt=(t,e)=>r.a.post(o+"/api/tool/disable_duration",e,t).then(t=>t.data),lt=(t,e)=>r.a.get(o+"/api/tool/duration_verify",{params:e},{headers:t}).then(t=>t.data),ut=(t,e)=>r.a.get(o+"/api/base/getdata",{params:e},{headers:t}).then(t=>t.data),pt=(t,e)=>r.a.post(o+"/api/base/addData",e,t).then(t=>t.data),ct=(t,e)=>r.a.post(o+"/api/base/updateData",e,t).then(t=>t.data),mt=(t,e)=>r.a.post(o+"/api/base/enablebase",e,t).then(t=>t.data),ht=(t,e)=>r.a.post(o+"/api/base/disablebase",e,t).then(t=>t.data),ft=(t,e)=>r.a.post(o+"/api/base/delbasedata",e,t).then(t=>t.data)},"3cba":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-calendar"}),t._v(" 风险列表")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box",staticStyle:{clear:"both","margin-bottom":"60px"}},[a("div",{staticClass:"add",staticStyle:{float:"left"}},[a("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"add"},on:{click:function(e){return t.handleAdd()}}},[t._v("添加风险项")])],1)]),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.riskData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{label:"风险内容",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.risk))])]}}])}),a("el-table-column",{attrs:{label:"研发人员",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.development))])]}}])}),a("el-table-column",{attrs:{label:"延期时间",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.delay))])]}}])}),a("el-table-column",{attrs:{label:"解决状态",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(0==e.row.solution_status?"未解决":1==e.row.solution_status?"已解决":"解决中"))])]}}])}),a("el-table-column",{attrs:{label:"重要程度",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(0==e.row.status?"Highest":1==e.row.status?"High":"Medium"))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleChangeStatus(e.$index,e.row)}}},[t._v(" "+t._s(0===e.row.status?"显示":"不显示")+" ")])]}}])})],1)],1),a("el-dialog",{attrs:{title:"编辑",visible:t.editVisible,width:"30%"},on:{"update:visible":function(e){t.editVisible=e}}},[a("el-form",{ref:"editform",attrs:{model:t.editform,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.editform.project,callback:function(e){t.$set(t.editform,"project",e)},expression:"editform.project"}})],1),a("el-form-item",{attrs:{label:"项目风险点"}},[a("el-input",{model:{value:t.editform.risk,callback:function(e){t.$set(t.editform,"risk",e)},expression:"editform.risk"}})],1),a("el-form-item",{attrs:{label:"项目研发人员"}},[a("el-input",{model:{value:t.editform.development,callback:function(e){t.$set(t.editform,"development",e)},expression:"editform.development"}})],1),a("el-form-item",{attrs:{label:"延期日期"}},[a("el-input",{attrs:{placeholder:"添加日期"},model:{value:t.editform.delay,callback:function(e){t.$set(t.editform,"delay",e)},expression:"editform.delay"}})],1),a("el-form-item",{attrs:{label:"解决状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editform.solution_status,callback:function(e){t.$set(t.editform,"solution_status",e)},expression:"editform.solution_status"}},[a("el-option",{key:"0",attrs:{label:"未解决",value:"0"}}),a("el-option",{key:"1",attrs:{label:"已解决",value:"1"}}),a("el-option",{key:"2",attrs:{label:"处理中",value:"2"}})],1)],1),a("el-form-item",{attrs:{label:"重要程度"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.editform.status,callback:function(e){t.$set(t.editform,"status",e)},expression:"editform.status"}},[a("el-option",{key:"0",attrs:{label:"Highest",value:"0"}}),a("el-option",{key:"1",attrs:{label:"High",value:"1"}}),a("el-option",{key:"2",attrs:{label:"Medium",value:"2"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveEdit(t.editform)}}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑",visible:t.dialogFormVisible,width:"30%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"addform",attrs:{model:t.addform,"label-width":"100px",rules:t.addRiskRules}},[a("el-form-item",{attrs:{label:"项目风险点",prop:"risk"}},[a("el-input",{model:{value:t.addform.risk,callback:function(e){t.$set(t.addform,"risk",e)},expression:"addform.risk"}})],1),a("el-form-item",{attrs:{label:"研发人员",prop:"development"}},[a("el-input",{model:{value:t.addform.development,callback:function(e){t.$set(t.addform,"development",e)},expression:"addform.development"}})],1),a("el-form-item",{attrs:{label:"延期天数",prop:"delay"}},[a("el-input",{attrs:{placeholder:"请输入延期天数"},model:{value:t.addform.delay,callback:function(e){t.$set(t.addform,"delay",e)},expression:"addform.delay"}})],1),a("el-form-item",{attrs:{label:"解决状态",prop:"solution_status"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.addform.solution_status,callback:function(e){t.$set(t.addform,"solution_status",e)},expression:"addform.solution_status"}},[a("el-option",{key:"0",attrs:{label:"未解决",value:"0"}}),a("el-option",{key:"1",attrs:{label:"已解决",value:"1"}}),a("el-option",{key:"2",attrs:{label:"处理中",value:"2"}})],1)],1),a("el-form-item",{attrs:{label:"重要程度",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.addform.status,callback:function(e){t.$set(t.addform,"status",e)},expression:"addform.status"}},[a("el-option",{key:"0",attrs:{label:"Highest",value:"0"}}),a("el-option",{key:"1",attrs:{label:"High",value:"1"}}),a("el-option",{key:"2",attrs:{label:"Medium",value:"2"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addRisk("addform")}}},[t._v("确 定")])],1)],1)],1)},r=[],o=a("2d92"),n={name:"baseform",data:function(){return{addRiskRules:{project:[{required:!0,message:"请选择项目名称",trigger:"change"}],risk:[{required:!0,message:"请输入项目风险点内容",trigger:"change"}],development:[{required:!0,message:"请输入项目研发人员",trigger:"change"}],delay:[{required:!0,message:"请输入延期日期",trigger:"change"}],solution_status:[{required:!0,message:"请选择风险点的解决状态",trigger:"change"}],status:[{required:!0,message:"请选择版本的重要程度",trigger:"change"}]},riskData:[],editform:{risk_id:"",project_id:""},addform:{},editVisible:!1,delVisible:!1,dialogFormVisible:!1,multipleSelection:[],routerParams:null}},created(){this.getParams(),this.getData()},activated(){this.getParams(),this.getData()},methods:{getData(){let t={project_id:this.routerParams.project_id},e={"Content-Type":"application/x-www-form-urlencoded"};Object(o["ab"])(e,t).then(t=>{0!=t.length?this.riskData=t:this.riskData=null})},getParams(){this.routerParams=this.$route.query},handleSelectionChange(t){this.multipleSelection=t},handleEdit(t,e){this.idx=t;const a=this.riskData[t];console.log(this.routerParams.project_id),this.editform={project:this.routerParams.name,risk:a.risk,development:a.development,delay:a.delay,solution_status:a.solution_status,status:a.status,risk_id:a.risk_id,project_id:this.routerParams.project_id},this.editVisible=!0},saveEdit(){console.log("solution_status==="+this.editform.solution_status),console.log("status==="+this.editform.status);let t={risk:this.editform.risk,development:this.editform.development,delay:this.editform.delay,solution_status:this.editform.solution_status,status:this.editform.status,risk_id:this.editform.risk_id,project_id:this.editform.project_id},e={"Content-Type":"application/json"};Object(o["jb"])(e,t).then(t=>{let{msg:e,code:a,data:s}=t;"0"==a?null==s||s[0]?(this.$message.success("编辑成功"),this.editVisible=!1,this.getData()):this.$message.error(s[1]):this.$message.error(e)})},handleChangeStatus:function(t,e){let a=this;this.listLoading=!0;let s={risk_id:e.id},r={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};e.status?disableProject(r,s).then(t=>{let{msg:s,code:r,data:o}=t;a.listLoading=!1,"0"===r?(a.$message({message:"禁用成功",center:!0,type:"success"}),e.status=!e.status):a.$message.error({message:s,center:!0})}):Object(o["E"])(r,s).then(t=>{let{msg:s,code:r,data:o}=t;a.listLoading=!1,"0"===r?(a.$message({message:"启用成功",center:!0,type:"success"}),e.status=!e.status):a.$message.error({message:s,center:!0})})},handleDelete(t,e){this.idx=t;const a=this.riskData[t];let s=[a.risk_id],r={ids:s},n={"Content-Type":"application/json"};Object(o["u"])(n,r).then(t=>{let{msg:e,code:a,data:s}=t;"0"==a?null==s||s[0]?(this.$message.success("删除成功！"),this.getData()):this.$message.error(s[1]):this.$message.error(e)})},handleAdd(){this.dialogFormVisible=!0,this.addform={project:this.routerParams.project,risk:null,development:null,delay:null,solution_status:null,status:null}},addRisk(t){this.$refs[t].validate(t=>{if(!t)return console.log("error submit!!"),!1;{let t={project_id:this.routerParams.project_id,risk:this.addform.risk,development:this.addform.development,delay:this.addform.delay,solution_status:this.addform.solution_status,status:this.addform.status};console.log(t);let e={"Content-Type":"application/json"};Object(o["k"])(e,t).then(t=>{let{msg:e,code:a,data:s}=t;console.log("code:"+a),"0"==a?(this.$message.success("添加成功"),this.dialogFormVisible=!1,this.getData()):this.$message.error(e)})}})}}},i=n,d=(a("c6ef"),a("2877")),l=Object(d["a"])(i,s,r,!1,null,"9b9ad2d4",null);e["default"]=l.exports},"74e5":function(t,e,a){},c6ef:function(t,e,a){"use strict";var s=a("74e5"),r=a.n(s);r.a}}]);